\input{src/header}											% bindet Header ein (WICHTIG)
\usepackage{graphicx}
\usepackage{fancyvrb}

\newcommand{\dozent}{Prof. Dr. Agn`es Voisard, Nicolas Lehmann}					% <-- Names des Dozenten eintragen
\newcommand{\tutor}{Nicolas Lehmann}						% <-- Name eurer Tutoriun eintragen
\newcommand{\tutoriumNo}{10}				% <-- Nummer im KVV nachschauen
\newcommand{\projectNo}{5}									% <-- Nummer des Übungszettels
\newcommand{\veranstaltung}{Datenbanksysteme}	% <-- Name der Lehrveranstaltung eintragen
\newcommand{\semester}{SoSe 2017}						% <-- z.B. SoSe 17, WiSe 17/18
\newcommand{\studenten}{Boyan Hristov, Julian Habib}			% <-- Hier eure Namen eintragen
% /////////////////////// BEGIN DOKUMENT /////////////////////////


\begin{document}
\input{src/titlepage}										% erstellt die Titelseite


Link zum Git Repository: \url{https://github.com/BoyanH/Freie-Universitaet-Berlin/tree/master/Datenbanksysteme/Solutions/homework5}

% /////////////////////// Aufgabe 1 /////////////////////////
\section*{1. Aufgabe}

\begin{itemize}

\item[a)]

\begin{align*}
\text{Minimal F} = \{ & \\
& \{B\} \rightarrow \{C\} \\
& \{B\} \rightarrow \{D\} \\
& \{C\} \rightarrow \{E\} \\
& \{D\} \rightarrow \{E\} \\
& \{AE\} \rightarrow \{D\} \\
\} & \\ \\
& \Rightarrow \\
F+ = \{ & \\
& \{B\} \rightarrow \{C\} \\
& \{B\} \rightarrow \{D\} \\
& \{B\} \rightarrow \{CD\} \\
& \{C\} \rightarrow \{E\} \\
& \{D\} \rightarrow \{E\} \\
& \{AE\} \rightarrow \{D\} \\
& \{B\} \rightarrow \{C\} \\
& \{B\} \rightarrow \{D\} \\
& \{BC\} \rightarrow \{CDE\} \\
& \{BD\} \rightarrow \{CDE\} \\
& \{CD\} \rightarrow \{E\} \\
& \{AB\} \rightarrow \{CDE\} \\
& ... \\
\} &
\end{align*}

Damit ist AB ein Key / Schlüssel.

\item[b)]
Pseudotransitivität wäre hier
\begin{align*}
& \{C\} \rightarrow \{E\} \land \{AE\} \rightarrow D \\
\Rightarrow & \{AC\} \rightarrow \{D\}
\end{align*}

\item[c)]
\begin{align*}
& \{BE\} \rightarrow \{B\} \text{(Reflexivity)} \\
\Rightarrow & \{A\} \rightarrow \{BE\} \land \{BE\} \rightarrow \{B\} \\
\Rightarrow & \{A\} \rightarrow \{B\} (Transitivity) \\
\Rightarrow & \{A\} \rightarrow \{B\} \land \{A\} \rightarrow \{A\} \text{(Reflexivity)} \\
\Rightarrow & \{A\} \rightarrow \{AB\} \text{(Union)} \land \{AB\} \rightarrow \{C\} \\
\Rightarrow & \{A\} \rightarrow \{C\} \text{(Transitivity)} \\
\Rightarrow & \{A\} \rightarrow \{C\} \land \{C\} \rightarrow \{D\} \\
\Rightarrow & \{A\} \rightarrow \{D\} \text{(Transitivity)}
\end{align*}

\end{itemize}

\section*{2. Aufgabe}

\begin{itemize}

\item[a)]

Attributhülle von \{A\}

Es gibt keine funktionale Abhängigkeiten für den Attribut A, deswegen ist seine Attributhülle \{A\} den Attribut selbst. 

Attributhülle von \{B\}

\begin{align*}
& \{B\} \rightarrow \{AD\} \Rightarrow \{B\} \rightarrow \{D\} \text{(Reflexivity)} \\
\Rightarrow & \{B\} \rightarrow \{D\} \land \{D\} \rightarrow \{BC\} \\
\Rightarrow & \{B\} \rightarrow \{C\} \text{(Transitivity)} \\ \\ \\
%
\Rightarrow & \{B\} \rightarrow \{C\} \land \{B\} \rightarrow \{D\} \\
\Rightarrow & \{B\} \rightarrow \{CD\} \text{(Union)} \\
\Rightarrow & \{B\} \rightarrow \{CD\} \land \{CD\} \{AEF\} \\
\Rightarrow & \{B\} \rightarrow \{AEF\} \text{(Transitivity)} \\ \\ \\
%
& \{B\} \rightarrow \{B\} \text{(Reflexivity)} \\ \\ \\
%
& \{B\} \rightarrow \{ABCDEF\}
\end{align*}
Attributhülle von \{B\} = $B^{+}$ = \{ABCDEF\}. Deswegen ist B ein Schlüssel. 

\item[b)]
Wie wir bei Aufgabenteil a) gesehen haben ist B ein Schlüsel.
Wegen $\{D\} \rightarrow \{BC\}$ ist D ein weiteres Schlüssel. Wegen $\{F\} \rightarrow \{ABD\}$ ist F auch ein Schlüssel. Von $\{E\} \rightarrow \{CD\}$ ist E auch Schlüssel. Weitere Kandidaten gibt es nicht, da per Definition ein Schlüssel das kleinste Superkey ist und alle andere Superkeys haben mindestens 2 Attributen.

Kandidaten für Schlüssel: B, D, E, F

\item[c)]

Wir haben aus allen Kandidaten B für Schlüssel gewählt, da dieser am trivialsten zu sehen ist und auch alphabetisch der ersten Attribut ist. Da es keine feste Regeln gibt, welcher von den Kandidaten zu einem Schlüssel wird, war unsere Entscheidung nicht so schwer zu treffen.

\section*{3. Aufgabe}

\begin{align*}
FD(R_2) = \{ & \\
& \{A\} \rightarrow \{D, E\} \\
& \{B\} \rightarrow \{C, D\} \\
& \{C\} \rightarrow \{A\} \\
& \{D, E\} \rightarrow \{A, C\} \\
\} & \\ \\
%
& \{B\} \rightarrow \{CD\} \Rightarrow \{B\} \rightarrow \{C\} \text{(Reflexivity)} \\
\Rightarrow & \{B\} \rightarrow \{C\} \land \{C\} \rightarrow \{A\} \\
\Rightarrow & \{B\} \rightarrow \{A\} \text{(Transitivity)} \\
\Rightarrow & \{B\} \rightarrow \{A\} \land \{A\} \rightarrow \{DE\} \\
\Rightarrow & \{B\} \rightarrow \{DE\} \text{(Transitivity)} \\
\Rightarrow & \{B\} \rightarrow \{D\} \text{(Reflexivity)} \\
\Rightarrow & \text{Dependency } \{B\} \rightarrow \{CD\} \text{ kann ducrh } \{B\} \rightarrow \{C\} \text{ substituiert werden} \\
%
\Leftrightarrow & \text{(Decomposition)}\\
FD(R_2) = \{ & \\
& \{A\} \rightarrow \{D\} \\
& \{A\} \rightarrow \{E\} \\
& \{B\} \rightarrow \{C\} \\
& \{C\} \rightarrow \{A\} \\
& \{D, E\} \rightarrow \{A\} \\
& \{D, E\} \rightarrow \{C\} \\
\} & \\ \\ \\
\end{align*}

\end{itemize}



% /////////////////////// END DOKUMENT /////////////////////////
\end{document}
